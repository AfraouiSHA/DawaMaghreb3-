<div class="home-container">
  <!-- Image floue -->
  <div class="blur-background"></div>



<div class="background-container">
  <!-- Logo DAWA en haut Ã  gauche -->
  <img src="assets/image-dawamaghreb/dawamaghreb_logo.jpg" />

   

  <!-- Conteneur principal -->
  <div class="communication-container">
  
    <!-- Formulaire ajout fournisseur -->
    <section class="ajout-fournisseur">
      <h2>Ajouter un fournisseur</h2>
      <form #fournisseurForm="ngForm" (ngSubmit)="ajouterFournisseur()">
        <input type="text" name="nom" placeholder="Nom de l'entreprise" [(ngModel)]="nouveauFournisseur.nom" required />
        <input type="text" name="iceEntreprise" placeholder="ICE de l'entreprise" [(ngModel)]="nouveauFournisseur.iceEntreprise" required />
        <input type="email" name="email" placeholder="Email" [(ngModel)]="nouveauFournisseur.email" required />
        <input type="tel" name="telephone" placeholder="TÃ©lÃ©phone" [(ngModel)]="nouveauFournisseur.telephone" />
        <input type="text" name="adresse" placeholder="Adresse" [(ngModel)]="nouveauFournisseur.adresse" />
        <button type="submit" [disabled]="!fournisseurForm.valid">Ajouter</button>
      </form>
    </section>
  
    <!-- Liste des fournisseurs -->
    <aside class="suppliers-list">
      <h2>Fournisseurs</h2>
      <ul>
        <li *ngFor="let fournisseur of fournisseurs"
            [class.active]="fournisseur === fournisseurSelectionne"
            (click)="selectionnerFournisseur(fournisseur)">
          {{ fournisseur.nom }}
        </li>
      </ul>
    </aside>
  
    <!-- Zone centrale avec chat et informations -->
    <main class="chat-window" *ngIf="fournisseurSelectionne">
      <header>
        <h3>Message d'attribution au Fournisseur Retenu {{ fournisseurSelectionne.nom }}</h3>
      </header>
  
      
  
      <footer>
        <input type="text" placeholder="Ã‰crire un message..." [(ngModel)]="nouveauMessage" (keydown.enter)="envoyerMessage()" name="message" />
        <button (click)="envoyerMessage()">Envoyer</button>
      </footer>
  
      <button class="btn-demande" (click)="envoyerMessage()">ğŸ“¤ envoyÃ© la message au fournisseur </button>

</main>
</div>

  
  <!-- Bloc dâ€™information sur le marchÃ© -->
  <div class="marche-details" *ngIf="fournisseurSelectionne">
    <h2> Informations gÃ©nÃ©rales sur le marchÃ© attribuÃ©</h2>
    <ul>
      <li><strong>RÃ©fÃ©rence :</strong> {{ fournisseurSelectionne.marche?.reference || 'N/A' }}</li>
      <li><strong>Date dâ€™attribution :</strong> {{ fournisseurSelectionne.marche?.dateAttribution ? (fournisseurSelectionne.marche.dateAttribution | date: 'dd MMM yyyy') : 'N/A' }}</li>
      <li><strong>Montant :</strong> {{ fournisseurSelectionne.marche?.montant ? (fournisseurSelectionne.marche.montant | currency: 'MAD':'symbol') : 'N/A' }}</li>
      <li><strong>DurÃ©e :</strong> {{ fournisseurSelectionne.marche?.duree || 'N/A' }}</li>
      <li><strong>Mode de passation :</strong> {{ fournisseurSelectionne.marche?.modePassation || 'N/A' }}</li>
      <li><strong>Objet :</strong> {{ fournisseurSelectionne.marche?.objet || 'N/A' }}</li>
    </ul>
  
    <h2> CoordonnÃ©es du fournisseur retenu</h2>
    <ul>
      <li><strong>Entreprise :</strong> {{ fournisseurSelectionne.nom }}</li>
      <li><strong>ICE D'entreprise :</strong> {{ fournisseurSelectionne.ICE }}</li>
      <li><strong>Email :</strong> {{ fournisseurSelectionne.email }}</li>
      <li><strong>TÃ©lÃ©phone :</strong> {{ fournisseurSelectionne.telephone }}</li>
      <li><strong>Adresse :</strong> {{ fournisseurSelectionne.adresse }}</li>
    </ul>
  
    <h2>ğŸ“‚ Documents liÃ©s Ã  lâ€™attribution</h2>
    <ul>
      <li><a href="#">ğŸ“„ Lettre dâ€™attribution</a></li>
      <li><a href="#">ğŸ“„ Contrat signÃ©</a></li>
      <li><a href="#">ğŸ“„ PV de commission</a></li>
      <li><a href="#">ğŸ“„ Avis dâ€™attribution</a></li>
    </ul>
  
    
  
    <h2> Suivi et historique</h2>
    <ul>
      <li><strong>Date dâ€™envoi :</strong> {{ fournisseurSelectionne.dateNotification ? (fournisseurSelectionne.dateNotification | date: 'dd MMM yyyy') : 'N/A' }}</li>
      <li><strong>Statut :</strong> En attente</li>
      <li><strong>Confirmation :</strong> Non reÃ§ue</li>
      
    </ul>
  
    
    <ul class="actions">
      <li><button (click)="modifierMessage()">âœï¸ Modifier le message</button></li>
      <li><button (click)="joindreDocuments()">ğŸ“ Joindre des documents</button></li>
      <li><button (click)="relancerFournisseur()">ğŸ” Relancer le fournisseur</button></li>
      <li><button (click)="telechargerElements()">ğŸ“¥ TÃ©lÃ©charger tous les Ã©lÃ©ments</button></li>
    </ul>
  </div>
</div>